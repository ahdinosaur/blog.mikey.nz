<!--
(function() {
  let gamma = 2.2
  let points = 100
  let width = 300
  let height = 300

  // Initialize path strings
  let encodedPath = `M ${0},${height} `;
  let decodedPath = `M ${0},${height} `;

  // Generate points
  for (let i = 0; i <= points; i++) {
    // Normalized input value between 0 and 1
    const input = i / points;

    // Calculate x position
    const x = input * width;

    // Calculate gamma encoded value: V_out = V_in^(1/gamma)
    const encoded = Math.pow(input, 1 / gamma);
    // Y position for encoded (inverted for SVG coordinate system)
    const yEncoded = height - encoded * height;

    // Calculate gamma decoded value: V_out = V_in^gamma
    const decoded = Math.pow(input, gamma);
    // Y position for decoded (inverted for SVG coordinate system)
    const yDecoded = height - decoded * height;

    // Add line segments to paths
    encodedPath += `L ${x},${yEncoded} `;
    decodedPath += `L ${x},${yDecoded} `;
  }

  console.log("encoded path:", encodedPath)
  console.log("decoded path:", decodedPath)
})()
-->

<svg width="800" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <!-- Styles -->
  <style>
    .grid { stroke: #ccc; stroke-width: 0.5; }
    .axis { stroke: #000; stroke-width: 1; }
    .curve { fill: none; stroke-width: 2.5; }
    .reference { stroke: #888; stroke-width: 1; stroke-dasharray: 4 2; }
    .label { font-family: Arial; font-size: 12px; }
    .title { font-family: Arial; font-size: 16px; font-weight: bold; }
  </style>

  <!-- Left Graph: Gamma Encoding (γ=2.2) -->
  <g transform="translate(50, 50)">
    <!-- Title -->
    <text x="150" y="-20" class="title" text-anchor="middle">Gamma Encoding (γ=2.2)</text>

    <!-- Grid -->
    <g class="grid">
      <!-- Vertical grid lines -->
      <line x1="0" y1="0" x2="0" y2="300" />
      <line x1="60" y1="0" x2="60" y2="300" />
      <line x1="120" y1="0" x2="120" y2="300" />
      <line x1="180" y1="0" x2="180" y2="300" />
      <line x1="240" y1="0" x2="240" y2="300" />
      <line x1="300" y1="0" x2="300" y2="300" />

      <!-- Horizontal grid lines -->
      <line x1="0" y1="0" x2="300" y2="0" />
      <line x1="0" y1="60" x2="300" y2="60" />
      <line x1="0" y1="120" x2="300" y2="120" />
      <line x1="0" y1="180" x2="300" y2="180" />
      <line x1="0" y1="240" x2="300" y2="240" />
      <line x1="0" y1="300" x2="300" y2="300" />
    </g>

    <!-- Axes -->
    <line x1="0" y1="300" x2="300" y2="300" class="axis" />
    <line x1="0" y1="300" x2="0" y2="0" class="axis" />

    <!-- Reference line (y=x) -->
    <line x1="0" y1="300" x2="300" y2="0" class="reference" />

    <!-- Gamma Encoding Curve: output = input^(1/2.2) -->
    <path
      d="M 0,300 L 0,300 L 3,263.014597816738 L 6,249.3170176978971 L 9,239.05983255058243 L 12,230.54652529376074 L 15,223.1322827501982 L 18,216.4905815266814 L 21.000000000000004,210.42933091614628 L 24,204.8243625440708 L 27,199.59000606883444 L 30,194.66424797354605 L 33,190.0005136832703 L 36,185.562786161683 L 39,181.3225426492898 L 42.00000000000001,177.25674541890072 L 45,173.3464749836536 L 48,169.57597149090194 L 51.00000000000001,165.93194468574183 L 54,162.40306594068568 L 57,158.97958694014736 L 60,155.65304848431407 L 63,152.41605470504587 L 66,149.26209560716168 L 69,146.18540588086063 L 72,143.1808513280349 L 75,140.2438365840056 L 78,137.37022945537382 L 81,134.55629836223792 L 84.00000000000001,131.7986602170378 L 87,129.09423669070355 L 90,126.44021727557487 L 93,123.834027898844 L 96,121.273304101392 L 99,118.7558679968852 L 102.00000000000001,116.27970838059429 L 105,113.84296347792241 L 108,111.44390591734867 L 111,109.08092958749077 L 114,106.75253809779232 L 117,104.45733461034564 L 120,102.19401284913187 L 122.99999999999999,99.96134912446672 L 126,97.75819523617872 L 129,95.58347214019022 L 132,93.43616428062614 L 135,91.31531450405276 L 138,89.22001948451123 L 141,87.14942559810748 L 144,85.10272519440116 L 147,83.07915321899489 L 150,81.07798414778307 L 153,79.09852919847057 L 156,77.14013378936374 L 159,75.20217521919272 L 162,73.28406054495039 L 165,71.38522463750903 L 168.00000000000003,69.50512839717359 L 170.99999999999997,67.64325711340666 L 174,65.79911895476124 L 177,63.9722435766283 L 180,62.16218083577331 L 183,60.36849960183403 L 186,58.59078665700304 L 189,56.8286456760394 L 192,55.081696279568405 L 195,53.3495731543446 L 198,51.63192523478756 L 201,49.92841494066289 L 204.00000000000003,48.23871746627913 L 206.99999999999997,46.56252011701551 L 210,44.89952168939092 L 213,43.24943189123758 L 216,41.611970798858465 L 219,39.98686834833023 L 222,38.373863858367315 L 225,36.772705582390074 L 228,35.18315028764516 L 231,33.604962859411216 L 234,32.0379159284895 L 237,30.481789520328675 L 240,28.936370724271683 L 243.00000000000003,27.401453381532804 L 245.99999999999997,25.876837790627974 L 249,24.362330429081 L 252,22.857743690322536 L 255,21.362895634780557 L 258,19.877609754241064 L 261,18.401714748624613 L 264,16.935044314390154 L 267,15.477436943835869 L 270,14.028735734619374 L 273,12.588788208870255 L 276,11.157446141311539 L 279,9.73456539584862 L 282,8.320005770122634 L 285,6.913630847559261 L 288,5.515307856476568 L 291,4.124907535846091 L 294,2.742304007326595 L 297,1.3673746532172686 L 300,0"
      class="curve" stroke="#0066cc" />

    <!-- Labels -->
    <text x="150" y="320" class="label" text-anchor="middle">Input (Linear)</text>
    <text x="-15" y="150" class="label" text-anchor="middle" transform="rotate(-90, -15, 150)">Output (Gamma-encoded)</text>
    <text x="0" y="315" class="label" text-anchor="middle">0</text>
    <text x="300" y="315" class="label" text-anchor="middle">1</text>
    <text x="-10" y="300" class="label" text-anchor="end">0</text>
    <text x="-10" y="0" class="label" text-anchor="end">1</text>
    <text x="160" y="160" class="label">y = x^(1/2.2)</text>
  </g>

  <!-- Right Graph: Gamma Decoding (γ=2.2) -->
  <g transform="translate(450, 50)">
    <!-- Title -->
    <text x="150" y="-20" class="title" text-anchor="middle">Gamma Decoding (γ=2.2)</text>

    <!-- Grid -->
    <g class="grid">
      <!-- Vertical grid lines -->
      <line x1="0" y1="0" x2="0" y2="300" />
      <line x1="60" y1="0" x2="60" y2="300" />
      <line x1="120" y1="0" x2="120" y2="300" />
      <line x1="180" y1="0" x2="180" y2="300" />
      <line x1="240" y1="0" x2="240" y2="300" />
      <line x1="300" y1="0" x2="300" y2="300" />

      <!-- Horizontal grid lines -->
      <line x1="0" y1="0" x2="300" y2="0" />
      <line x1="0" y1="60" x2="300" y2="60" />
      <line x1="0" y1="120" x2="300" y2="120" />
      <line x1="0" y1="180" x2="300" y2="180" />
      <line x1="0" y1="240" x2="300" y2="240" />
      <line x1="0" y1="300" x2="300" y2="300" />
    </g>

    <!-- Axes -->
    <line x1="0" y1="300" x2="300" y2="300" class="axis" />
    <line x1="0" y1="300" x2="0" y2="0" class="axis" />

    <!-- Reference line (y=x) -->
    <line x1="0" y1="300" x2="300" y2="0" class="reference" />

    <!-- Gamma Decoding Curve: output = input^2.2 -->
    <path
        d="M 0,300 L 0,300 L 3,299.9880567848834 L 6,299.9451233937687 L 9,299.86609770669685 L 12,299.7478533307772 L 15,299.5880397962602 L 18,299.3847466238094 L 21.000000000000004,299.13635165972045 L 24,298.84143814338336 L 27,298.4987439331212 L 30,298.1071279665594 L 33,297.66554685245467 L 36,297.17303783545384 L 39,296.62870598323656 L 42.00000000000001,296.0317142888998 L 45,295.38127585479924 L 48,294.6766476045685 L 51.00000000000001,293.9171251438611 L 54,293.10203850218795 L 57,292.2307485624992 L 60,291.3026440358677 L 63,290.31713887409546 L 66,289.2736700383882 L 69,288.1716955606748 L 72,287.01069284778794 L 75,285.790157188965 L 78,284.50960043493 L 81,283.16854982283206 L 84.00000000000001,281.76654692600385 L 87,280.30314671119737 L 90,278.7779166888912 L 93,277.19043614462163 L 96,275.5402954411931 L 99,273.82709538317977 L 102.00000000000001,272.0504466364015 L 105,270.2099691961136 L 108,268.3052918985217 L 111,266.3360519709666 L 114,264.30189461673774 L 117,262.20247263099407 L 120,260.0374460447101 L 122.99999999999999,257.8064817939427 L 126,255.50925341203492 L 129,253.1454407426496 L 132,250.71472967176442 L 135,248.2168118769676 L 138,245.6513845925719 L 141,243.01815038922263 L 144,240.31681696681116 L 147,237.54709695962768 L 150,234.7087077527907 L 153,231.80137130908594 L 156,228.82481400542926 L 159,225.77876647824183 L 162,222.66296347709056 L 165,219.47714372600592 L 168.00000000000003,216.22104979194006 L 170.99999999999997,212.89442795987588 L 174,209.4970281141378 L 177,206.02860362549472 L 180,202.48891124367714 L 183,198.87771099496214 L 186,195.19476608450807 L 189,191.4398428031435 L 192,187.6127104383403 L 195,183.71314118911937 L 198,179.74091008465717 L 201,175.6957949063776 L 204.00000000000003,171.57757611333022 L 206.99999999999997,167.38603677066888 L 210,163.12096248105888 L 213,158.7821413188526 L 216,154.36936376688286 L 219,149.88242265573615 L 222,145.32111310537456 L 225,140.68523246898528 L 228,135.97458027894348 L 231,131.18895819478226 L 234,126.32816995307005 L 237,121.39202131910133 L 240,116.38032004031288 L 243.00000000000003,111.2928758013434 L 245.99999999999997,106.12950018065806 L 249,100.89000660866546 L 252,95.5742103272583 L 255,90.18192835071218 L 258,84.71297942788198 L 261,79.16718400563784 L 264,73.54436419348639 L 267,67.84434372932526 L 270,62.066947946282625 L 273,56.212003740595605 L 276,50.279339540483335 L 279,44.26878527597401 L 282,38.18017234964634 L 285,32.013333608247876 L 288,25.76810331515611 L 291,19.44431712364684 L 294,13.041812050939939 L 297,6.560426452990953 L 300,0"
        class="curve" stroke="#cc3300" />

    <!-- Labels -->
    <text x="150" y="320" class="label" text-anchor="middle">Input (Gamma-encoded)</text>
    <text x="-15" y="150" class="label" text-anchor="middle" transform="rotate(-90, -15, 150)">Output (Linear)</text>
    <text x="0" y="315" class="label" text-anchor="middle">0</text>
    <text x="300" y="315" class="label" text-anchor="middle">1</text>
    <text x="-10" y="300" class="label" text-anchor="end">0</text>
    <text x="-10" y="0" class="label" text-anchor="end">1</text>
    <text x="160" y="160" class="label">y = x^2.2</text>
  </g>
</svg>
